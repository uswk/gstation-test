switch(<%= @ajaxflg %>){
  case -1:
    alert("登録処理に失敗しました。再度やり直してください。");
    break;
  case -2:
    $('#modal').dialog( "close" );
    //初期化
    document.getElementById("latitude_new_").value = object.latLng.lat();
    document.getElementById("longitude_new_").value = object.latLng.lng();
    break;
  case 1:
    break;
  case 2:
    var cust_code = "<%= @custcode %>";
    var cust_name = document.getElementById("cust_name_new_").value;
    var address = document.getElementById("address_new_").value;
    var latitude = document.getElementById("latitude_new_").value;
    var longitude = document.getElementById("longitude_new_").value;
    
    //マーカー再表示
    f_marker_dsp();

    $('#modal').dialog( "close" );
    //初期化
    document.getElementById("latitude_new_").value = object.latLng.lat();
    document.getElementById("longitude_new_").value = object.latLng.lng();
    break;
  case 3:
    break;
  case 4:
    var cust_code;
    var cust_name;
    var cust_addr;
    var route_memo;
    var id;
    var latitude;
    var longitude;
    var seq_id = 0;
    var contentString;
    var icon;
    var myLatlng;
    var infowindow = new Array();
<%
  if not @m_customs.nil?
    @m_customs.each do |custom|
%>
      cust_code = "<%= custom.cust_code %>";
      cust_name = "<%= custom.cust_name %>";
      cust_addr = "<%= (custom.addr_1.to_s + ' ' + custom.addr_2.to_s).strip %>";
      id = "<%= custom.id %>";
      latitude = "<%= custom.latitude %>";
      longitude = "<%= custom.longitude %>";
      
      myLatlng = new google.maps.LatLng(latitude,longitude);
      var elementid = "delete_form"+id;
      contentString = "<div style='width:450px; height:160px;'><h3>" + cust_code + ":" + cust_name + "</h3>" + cust_addr;
      contentString = contentString + "<br><br><input type=button value='詳細' onclick=funload_detail_common('" + id + "','<%= root_url(only_path: false) %>',''); class='btn'>&nbsp;&nbsp;";
      contentString = contentString + "&nbsp;&nbsp;<input type=button value='編集' onclick=funload_detail_common('" + id + "','<%= root_url(only_path: false) %>','/edit'); class='btn'>&nbsp;&nbsp;";
      contentString = contentString + "&nbsp;&nbsp;<a href='unloads/" + id + "?zoom_del="+ map.zoom + "&lat_del=" + map.getCenter().lat() + "&lng_del=" + map.getCenter().lng() + "' data-confirm='削除しますがよろしいですか?' data-method='delete' rel='nofollow' class='btn btn-danger' style='text-decoration:none;'>削除</a></div>";

      icon = "images/marker_icon_unload.png";

      infowindow[seq_id] = new google.maps.InfoWindow({
        content: contentString,
        disableAutoPan: true
      });
      marker[seq_id] = new google.maps.Marker({
        position: myLatlng,
        icon: icon,
        map: map,
        title: ""+seq_id
      });
      google.maps.event.addListener(marker[seq_id], 'click', function() {
        //情報ウィンドウ閉じる
        for(var i = 0; i < seq_id; i++){
          infowindow[i].close();
        }
        infowindow[this.getTitle()].open(map,marker[this.getTitle()]);
      });
      
      
      seq_id += 1;
<%
    end
  end
%>
    //中央の位置にマーカー表示
    myLatlng = new google.maps.LatLng(map.getBounds().getCenter().lat(),map.getBounds().getCenter().lng())
    icon = "images/marker_pin.png";
    marker[seq_id] = new google.maps.Marker({
      position: myLatlng,
      icon: icon,
      map: map,
      title: ""+seq_id
    });
    $('#layer').hide();
    break;
  case 6:
    document.getElementById("cust_name_new_").value = "<%= @cust_name_chg %>";
    document.getElementById("chg_flg_new_").value = 1;
    break;
}
