<%= form_for(@m_combo) do |f| %>
  <% if @m_combo.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@m_combo.errors.count, "error") %> prohibited this m_combo from being saved:</h2>

      <ul>
      <% @m_combo.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <table>
    <thead>
      <tr>
        <th width=30%>大分類ｺｰﾄﾞ</th>
        <td width=70%><%= params[:class1].nil? ? @m_combo.class_1 : params[:class1] %></td>
        <%= hidden_field :m_combo, :class_1, :value => params[:class1].nil? ? @m_combo.class_1 : params[:class1] %>
      </tr>
      <tr>
        <th>中分類ｺｰﾄﾞ</th>
        <% if @action_form=='update' %>
          <td><%= f.text_field :class_2, :readonly => true, :disabled => true, :maxlength=>10 %></td>
        <% else %>
          <td><%= f.text_field :class_2, :maxlength=>10 %></td>
        <% end %>
      </tr>
      <tr>
        <th>小分類ｺｰﾄﾞ</th>
        <% if @action_form=='update' %>
          <td><%= f.text_field :class_code, :readonly => true, :disabled => true, :maxlength=>10 %></td>
        <% else %>
          <td><%= f.text_field :class_code, :maxlength=>10 %></td>
        <% end %>
      <tr>
      <tr>
        <th>名称</th>
        <td><%= f.text_field :class_name, :maxlength=>20 %></td>
      </tr>
      <tr>
        <th>略称</th>
        <td><%= f.text_field :class_namea, :maxlength=>10 %></td>
      </tr>
      <tr>
        <th>値１</th>
        <td><%= f.text_field :value, :maxlength=>50 %></td>
      </tr>
      <tr>
        <th>値２</th>
        <td><%= f.text_field :value2, :maxlength=>50 %></td>
      </tr>
      <tr>
        <th>値３</th>
        <td><%= f.text_field :value3, :maxlength=>50 %></td>
      </tr>
      <tr>
        <th>値４</th>
        <td><%= f.text_field :value4, :maxlength=>50 %></td>
      </tr>
      <tr>
        <th>値５</th>
        <td><%= f.text_field :value5, :maxlength=>50 %></td>
      </tr>
      <%= hidden_field :m_combo, :system_flg, :value => @m_combo.system_flg.nil? ? 0 : @m_combo.system_flg %>
      <%= hidden_field :m_combo, :delete_flg, :value => @m_combo.delete_flg.nil? ? 0 : @m_combo.delete_flg %>
    </thead>
  </table>
  <br>
  <div class="actions">
    <% if current_user.authority!=9 %>
      <%= f.submit :"更新", :onclick => ('return fcombos_submit();'), :style=>"color:white;", :class => 'btn btn-primary' %>&nbsp;&nbsp;
    <% end %>
<% end %>
<% content_for :scripts do %>
  <script type="text/javascript">
    function fcombos_submit(){
      if (document.getElementById("m_combo_class_2").value.length<=0) {
        alert("中分類コードは入力必須です。");
        return false;
      }
      if (document.getElementById("m_combo_class_code").value.length<=0) {
        alert("小分類コードは入力必須です。");
        return false;
      }
      if (document.getElementById("m_combo_class_name").value.length<=0) {
        alert("名称は入力必須です。");
        return false;
      }
      if (document.getElementById("m_combo_class_namea").value.length<=0) {
        alert("略称は入力必須です。");
        return false;
      }
      if (document.getElementById("m_combo_class_2").value.match(/[^0-9]/)){
        alert("中分類コードは半角数値で入力してください。");
        return false;
      }
      if (document.getElementById("m_combo_class_code").value.match(/[^0-9]/)){
        alert("小分類コードは半角数値で入力してください。");
        return false;
      }
      if(window.confirm('更新しますがよろしいですか？')){
        return true;
      }else{
        return false;
      }
    }
  </script>
<% end %>
