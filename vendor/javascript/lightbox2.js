// lightbox2@2.11.5 downloaded from https://ga.jspm.io/npm:lightbox2@2.11.5/dist/js/lightbox.js

import*as t from"jquery";var i=t;try{"default"in t&&(i=t.default)}catch(t){}var e=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var a={};
/*!
 * Lightbox v2.11.5
 * by Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */(function(t,e){true;a=e(i)})(0,(function(t){function Lightbox(i){(this||e).album=[];(this||e).currentImageIndex=void 0;this.init();(this||e).options=t.extend({},(this||e).constructor.defaults);this.option(i)}Lightbox.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:false,fadeDuration:600,fitImagesInViewport:true,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:true,wrapAround:false,disableScrolling:false,sanitizeTitle:false};Lightbox.prototype.option=function(i){t.extend((this||e).options,i)};Lightbox.prototype.imageCountLabel=function(t,i){return(this||e).options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)};Lightbox.prototype.init=function(){var i=this||e;t(document).ready((function(){i.enable();i.build()}))};Lightbox.prototype.enable=function(){var i=this||e;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",(function(e){i.start(t(e.currentTarget));return false}))};Lightbox.prototype.build=function(){if(!(t("#lightbox").length>0)){var i=this||e;t('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" role="button" tabindex="0" aria-label="Previous image" href="" ></a><a class="lb-next" role="button" tabindex="0" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel" role="button" tabindex="0"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close" role="button" tabindex="0"></a></div></div></div></div>').appendTo(t("body"));(this||e).$lightbox=t("#lightbox");(this||e).$overlay=t("#lightboxOverlay");(this||e).$outerContainer=(this||e).$lightbox.find(".lb-outerContainer");(this||e).$container=(this||e).$lightbox.find(".lb-container");(this||e).$image=(this||e).$lightbox.find(".lb-image");(this||e).$nav=(this||e).$lightbox.find(".lb-nav");(this||e).containerPadding={top:parseInt((this||e).$container.css("padding-top"),10),right:parseInt((this||e).$container.css("padding-right"),10),bottom:parseInt((this||e).$container.css("padding-bottom"),10),left:parseInt((this||e).$container.css("padding-left"),10)};(this||e).imageBorderWidth={top:parseInt((this||e).$image.css("border-top-width"),10),right:parseInt((this||e).$image.css("border-right-width"),10),bottom:parseInt((this||e).$image.css("border-bottom-width"),10),left:parseInt((this||e).$image.css("border-left-width"),10)};(this||e).$overlay.hide().on("click",(function(){i.end();return false}));(this||e).$lightbox.hide().on("click",(function(e){t(e.target).attr("id")==="lightbox"&&i.end()}));(this||e).$outerContainer.on("click",(function(e){t(e.target).attr("id")==="lightbox"&&i.end();return false}));(this||e).$lightbox.find(".lb-prev").on("click",(function(){i.currentImageIndex===0?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1);return false}));(this||e).$lightbox.find(".lb-next").on("click",(function(){i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1);return false}));(this||e).$nav.on("mousedown",(function(t){if(t.which===3){i.$nav.css("pointer-events","none");i.$lightbox.one("contextmenu",(function(){setTimeout(function(){(this||e).$nav.css("pointer-events","auto")}.bind(i),0)}))}}));(this||e).$lightbox.find(".lb-loader, .lb-close").on("click keyup",(function(t){if(t.type==="click"||t.type==="keyup"&&(t.which===13||t.which===32)){i.end();return false}}))}};Lightbox.prototype.start=function(i){var a=this||e;var o=t(window);o.on("resize",t.proxy((this||e).sizeOverlay,this||e));this.sizeOverlay();(this||e).album=[];var n=0;function addToAlbum(t){a.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var s=i.attr("data-lightbox");var r;if(s){r=t(i.prop("tagName")+'[data-lightbox="'+s+'"]');for(var h=0;h<r.length;h=++h){addToAlbum(t(r[h]));r[h]===i[0]&&(n=h)}}else if(i.attr("rel")==="lightbox")addToAlbum(i);else{r=t(i.prop("tagName")+'[rel="'+i.attr("rel")+'"]');for(var l=0;l<r.length;l=++l){addToAlbum(t(r[l]));r[l]===i[0]&&(n=l)}}var d=o.scrollTop()+(this||e).options.positionFromTop;var g=o.scrollLeft();(this||e).$lightbox.css({top:d+"px",left:g+"px"}).fadeIn((this||e).options.fadeDuration);(this||e).options.disableScrolling&&t("body").addClass("lb-disable-scrolling");this.changeImage(n)};Lightbox.prototype.changeImage=function(i){var a=this||e;var o=(this||e).album[i].link;var n=o.split(".").slice(-1)[0];var s=(this||e).$lightbox.find(".lb-image");this.disableKeyboardNav();(this||e).$overlay.fadeIn((this||e).options.fadeDuration);t(".lb-loader").fadeIn("slow");(this||e).$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();(this||e).$outerContainer.addClass("animating");var r=new Image;r.onload=function(){var e;var h;var l;var d;var g;var b;s.attr({alt:a.album[i].alt,src:o});t(r);s.width(r.width);s.height(r.height);var c=r.width/r.height;b=t(window).width();g=t(window).height();d=b-a.containerPadding.left-a.containerPadding.right-a.imageBorderWidth.left-a.imageBorderWidth.right-20;l=g-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom-a.options.positionFromTop-70;if(n==="svg"){if(c>=1){h=d;e=parseInt(d/c,10)}else{h=parseInt(l/c,10);e=l}s.width(h);s.height(e)}else{if(a.options.fitImagesInViewport){a.options.maxWidth&&a.options.maxWidth<d&&(d=a.options.maxWidth);a.options.maxHeight&&a.options.maxHeight<l&&(l=a.options.maxHeight)}else{d=a.options.maxWidth||r.width||d;l=a.options.maxHeight||r.height||l}if(r.width>d||r.height>l)if(r.width/d>r.height/l){h=d;e=parseInt(r.height/(r.width/h),10);s.width(h);s.height(e)}else{e=l;h=parseInt(r.width/(r.height/e),10);s.width(h);s.height(e)}}a.sizeContainer(s.width(),s.height())};r.src=(this||e).album[i].link;(this||e).currentImageIndex=i};Lightbox.prototype.sizeOverlay=function(){var i=this||e;setTimeout((function(){i.$overlay.width(t(document).width()).height(t(document).height())}),0)};Lightbox.prototype.sizeContainer=function(t,i){var a=this||e;var o=(this||e).$outerContainer.outerWidth();var n=(this||e).$outerContainer.outerHeight();var s=t+(this||e).containerPadding.left+(this||e).containerPadding.right+(this||e).imageBorderWidth.left+(this||e).imageBorderWidth.right;var r=i+(this||e).containerPadding.top+(this||e).containerPadding.bottom+(this||e).imageBorderWidth.top+(this||e).imageBorderWidth.bottom;function postResize(){a.$lightbox.find(".lb-dataContainer").width(s);a.$lightbox.find(".lb-prevLink").height(r);a.$lightbox.find(".lb-nextLink").height(r);a.$overlay.trigger("focus");a.showImage()}o!==s||n!==r?(this||e).$outerContainer.animate({width:s,height:r},(this||e).options.resizeDuration,"swing",(function(){postResize()})):postResize()};Lightbox.prototype.showImage=function(){(this||e).$lightbox.find(".lb-loader").stop(true).hide();(this||e).$lightbox.find(".lb-image").fadeIn((this||e).options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};Lightbox.prototype.updateNav=function(){var t=false;try{document.createEvent("TouchEvent");t=!!(this||e).options.alwaysShowNavOnTouchDevices}catch(t){}(this||e).$lightbox.find(".lb-nav").show();if((this||e).album.length>1)if((this||e).options.wrapAround){t&&(this||e).$lightbox.find(".lb-prev, .lb-next").css("opacity","1");(this||e).$lightbox.find(".lb-prev, .lb-next").show()}else{if((this||e).currentImageIndex>0){(this||e).$lightbox.find(".lb-prev").show();t&&(this||e).$lightbox.find(".lb-prev").css("opacity","1")}if((this||e).currentImageIndex<(this||e).album.length-1){(this||e).$lightbox.find(".lb-next").show();t&&(this||e).$lightbox.find(".lb-next").css("opacity","1")}}};Lightbox.prototype.updateDetails=function(){var t=this||e;if(typeof(this||e).album[(this||e).currentImageIndex].title!=="undefined"&&(this||e).album[(this||e).currentImageIndex].title!==""){var i=(this||e).$lightbox.find(".lb-caption");(this||e).options.sanitizeTitle?i.text((this||e).album[(this||e).currentImageIndex].title):i.html((this||e).album[(this||e).currentImageIndex].title);i.fadeIn("fast")}if((this||e).album.length>1&&(this||e).options.showImageNumberLabel){var a=this.imageCountLabel((this||e).currentImageIndex+1,(this||e).album.length);(this||e).$lightbox.find(".lb-number").text(a).fadeIn("fast")}else(this||e).$lightbox.find(".lb-number").hide();(this||e).$outerContainer.removeClass("animating");(this||e).$lightbox.find(".lb-dataContainer").fadeIn((this||e).options.resizeDuration,(function(){return t.sizeOverlay()}))};Lightbox.prototype.preloadNeighboringImages=function(){if((this||e).album.length>(this||e).currentImageIndex+1){var t=new Image;t.src=(this||e).album[(this||e).currentImageIndex+1].link}if((this||e).currentImageIndex>0){var i=new Image;i.src=(this||e).album[(this||e).currentImageIndex-1].link}};Lightbox.prototype.enableKeyboardNav=function(){(this||e).$lightbox.on("keyup.keyboard",t.proxy((this||e).keyboardAction,this||e));(this||e).$overlay.on("keyup.keyboard",t.proxy((this||e).keyboardAction,this||e))};Lightbox.prototype.disableKeyboardNav=function(){(this||e).$lightbox.off(".keyboard");(this||e).$overlay.off(".keyboard")};Lightbox.prototype.keyboardAction=function(t){var i=27;var a=37;var o=39;var n=t.keyCode;if(n===i){t.stopPropagation();this.end()}else n===a?(this||e).currentImageIndex!==0?this.changeImage((this||e).currentImageIndex-1):(this||e).options.wrapAround&&(this||e).album.length>1&&this.changeImage((this||e).album.length-1):n===o&&((this||e).currentImageIndex!==(this||e).album.length-1?this.changeImage((this||e).currentImageIndex+1):(this||e).options.wrapAround&&(this||e).album.length>1&&this.changeImage(0))};Lightbox.prototype.end=function(){this.disableKeyboardNav();t(window).off("resize",(this||e).sizeOverlay);(this||e).$lightbox.fadeOut((this||e).options.fadeDuration);(this||e).$overlay.fadeOut((this||e).options.fadeDuration);(this||e).options.disableScrolling&&t("body").removeClass("lb-disable-scrolling")};return new Lightbox}));var o=a;export{o as default};

